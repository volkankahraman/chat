(function(e){function t(t){for(var s,i,r=t[0],c=t[1],l=t[2],d=0,g=[];d<r.length;d++)i=r[d],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&g.push(o[i][0]),o[i]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(e[s]=c[s]);u&&u(t);while(g.length)g.shift()();return a.push.apply(a,l||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],s=!0,r=1;r<n.length;r++){var c=n[r];0!==o[c]&&(s=!1)}s&&(a.splice(t--,1),e=i(i.s=n[0]))}return e}var s={},o={app:0},a=[];function i(t){if(s[t])return s[t].exports;var n=s[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=s,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)i.d(n,s,function(t){return e[t]}.bind(null,s));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/chat/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=t,r=r.slice();for(var l=0;l<r.length;l++)t(r[l]);var u=c;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";var s=n("85ec"),o=n.n(s);o.a},"0c1c":function(e,t,n){"use strict";var s=n("cd49"),o=n.n(s);o.a},3634:function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var s=n("2b0e"),o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Chat")},a=[],i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"container"},[e.dotMenuShow?s("div",{staticClass:"backDrop",on:{click:function(t){e.dotMenuShow=!1}}}):e._e(),s("div",{staticClass:"header"},[s("div",{staticClass:"logo"},[s("img",{attrs:{src:n("cf05"),width:"30"}}),s("Span",[e._v(" Chat")])],1),s("button",{on:{click:function(t){e.dotMenuShow=!0}}},[s("svg",{staticClass:"icon",attrs:{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"}},[s("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z"}})])]),s("ul",{directives:[{name:"show",rawName:"v-show",value:e.dotMenuShow,expression:"dotMenuShow"}],staticClass:"dot-menu"},[s("li",[s("svg",{staticClass:"icon",staticStyle:{color:"var(--text-color)",width:"5vw"},attrs:{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"}},[s("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}})]),s("div",{staticStyle:{"padding-left":"15px"},on:{click:e.about}},[e._v("Hakkında")])]),s("li",{on:{click:e.logout}},[s("svg",{staticClass:"icon",staticStyle:{color:"var(--text-color)",width:"5vw"},attrs:{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"}},[s("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"}})]),s("div",{staticStyle:{"padding-left":"15px"}},[e._v("Çıkış Yap")])])])]),s("div",{staticClass:"header-span"},[e._v("a")]),e.currUser.id?e._e():s("div",{attrs:{id:"firebaseui-auth-container"}}),s("div",{directives:[{name:"chat-scroll",rawName:"v-chat-scroll",value:{smooth:!0,notSmoothOnInit:!0,scrollonremoved:!0},expression:"{\n      smooth: true,\n      notSmoothOnInit: true,\n      scrollonremoved: true,\n    }"}],staticClass:"main"},[s("transition-group",{attrs:{name:"list",tag:"div"}},e._l(e.messages.slice().reverse(),(function(e,t){return s("Message",{key:e.id,attrs:{message:e,index:t}})})),1),e._l(e.writings,(function(t,n){return s("div",{key:n,class:{"not-writing":!t.status}},[e._v(" "+e._s(t.user)+" yazıyor... ")])}))],2),s("div",{staticClass:"footer-span"},[e._v("a")]),s("div",{staticClass:"footer"},[e.gifPanelShow?e._e():s("form",{on:{submit:function(t){return t.preventDefault(),e.sendMessage(t)}}},[s("button",[s("input",{attrs:{type:"file",id:"sound",accept:"audio/*",capture:""},on:{input:e.previewSound}}),s("svg",{staticClass:"icon",staticStyle:{width:"5vw","margin-right":"5px"},attrs:{fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"}},[s("path",{attrs:{"fill-rule":"evenodd",d:"M7 4a3 3 0 016 0v4a3 3 0 11-6 0V4zm4 10.93A7.001 7.001 0 0017 8a1 1 0 10-2 0A5 5 0 015 8a1 1 0 00-2 0 7.001 7.001 0 006 6.93V17H6a1 1 0 100 2h8a1 1 0 100-2h-3v-2.07z","clip-rule":"evenodd"}})])]),s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.message,expression:"message"}],attrs:{id:"message",type:"text",name:"message",placeholder:"mesaj...",autocomplete:"off"},domProps:{value:e.message},on:{enter:function(t){return e.alert()},focus:function(t){e.inputIconShow=!1},blur:function(t){e.inputIconShow=!0},input:function(t){t.target.composing||(e.message=t.target.value)}}}),e._v(" "),s("transition",{attrs:{name:"bounce",duration:"600"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:e.inputIconShow&&!e.message,expression:"inputIconShow && !message"}],staticClass:"icon-group"},[s("button",{on:{click:e.sendLocation}},[s("svg",{staticClass:"icon input-icon",attrs:{fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"}},[s("path",{attrs:{"fill-rule":"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z","clip-rule":"evenodd"}})])]),s("button",{on:{click:function(t){e.gifPanelShow=!0}}},[s("svg",{staticClass:"icon input-icon",attrs:{fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"}},[s("path",{attrs:{"fill-rule":"evenodd",d:"M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z","clip-rule":"evenodd"}})])]),s("button",[s("input",{attrs:{type:"file",id:"photo",accept:"image/*"},on:{change:e.previewPhoto}}),s("svg",{staticClass:"icon input-icon",attrs:{fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"}},[s("path",{attrs:{"clip-rule":"evenodd",d:"M4 4a2 2 0 00-2 2v8a2 2 0 002 2h12a2 2 0 002-2V8a2 2 0 00-2-2h-5L9 4H4zm7 5a1 1 0 00-2 0v1H8a1 1 0 000 2h1v1a1 1 0 002 0v-1h1a1 1 0 000-2h-1V9z","fill-rule":"evenodd"}})])])])]),s("button",[s("svg",{staticClass:"icon",attrs:{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"}},[s("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 9l3 3m0 0l-3 3m3-3H8m13 0a9 9 0 11-18 0 9 9 0 0118 0z"}})])])],1),e.gifPanelShow?s("GifPanel",{attrs:{currUser:e.currUser},on:{checkPanel:e.gifPanelStatus}}):e._e()],1),e.prompt?s("div",{staticClass:"update-dialog"},[s("div",{staticClass:"update-dialog__content"},[e._v(" A new version is found. Refresh to load it? ")]),s("div",{staticClass:"update-dialog__actions"},[s("button",{staticClass:"update-dialog__button update-dialog__button--confirm",on:{click:e.update}},[e._v(" Update ")]),s("button",{staticClass:"update-dialog__button update-dialog__button--cancel",on:{click:function(t){e.prompt=!1}}},[e._v(" Cancel ")])])]):e._e()])},r=[],c=(n("4160"),n("b0c0"),n("4d63"),n("ac1f"),n("25f0"),n("5319"),n("159b"),n("96cf"),n("1da1")),l=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.message.content?n("div",{directives:[{name:"touch",rawName:"v-touch:touchhold",value:e.onMessageTap,expression:"onMessageTap",arg:"touchhold"}],staticClass:"wrapper",on:{dblclick:e.likeMessage}},[e.message.soundUrl||e.message.imageUrl||e.message.location?e._e():n("div",{staticClass:"bouble disable-selection",class:[{user:e.owner},{hasEmoji:e.message.emoji}]},[e._v(" "+e._s(e.message.content)+" ")]),e.message.soundUrl?n("div",{staticClass:"sound-bouble",class:{user:e.owner}},[n("audio",{class:{"sound-owner":e.owner},attrs:{id:"player",controls:"",src:e.message.soundUrl}}),e.owner?n("button",{staticClass:"deleteSound",on:{click:e.onMessageTap}},[n("svg",{staticClass:"icon",attrs:{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"}},[n("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"}})])]):e._e()]):e._e(),e.message.imageUrl?n("div",{staticClass:"image-bouble",class:{user:e.owner}},[n("img",{attrs:{src:e.message.imageUrl}})]):e._e(),e.message.location?n("div",{staticClass:"location-bouble",class:{user:e.owner}},[n("a",{attrs:{href:e.locationUrl,target:"_blank"}},[n("LMap",{attrs:{zoom:16,center:[e.message.location.latitude,e.message.location.longitude],attributionControl:"false"},on:{click:function(t){return t.preventDefault(),e.console.log("hey")}}},[n("LTileLayer",{attrs:{attribution:"hey",url:"http://{s}.tile.osm.org/{z}/{x}/{y}.png"}}),n("LMarker",{attrs:{"lat-lng":[e.message.location.latitude,e.message.location.longitude]}})],1)],1)]):e._e(),n("transition",{attrs:{name:"bounce",duration:"400"}},[n("span",{directives:[{name:"show",rawName:"v-show",value:e.liked||e.message.liked,expression:"liked || message.liked"}],staticClass:"heart",class:{"not-owner":!e.owner},on:{click:e.unLikeMessage}},[e._v("❤️")])]),e.message.seen&&e.owner&&e.message.last?n("span",{staticClass:"seen"},[e._v("Görüldü")]):e._e()],1):e._e()},u=[],d=n("59ca"),g=n.n(d),f=(n("ea7b"),n("e71f"),g.a.initializeApp({apiKey:"AIzaSyAq4MA7Vy0bsWO_OfXfsvd6pIziBlkBjio",authDomain:"vk-chat-5c98b.firebaseapp.com",databaseURL:"https://vk-chat-5c98b.firebaseio.com",projectId:"vk-chat-5c98b",storageBucket:"vk-chat-5c98b.appspot.com",messagingSenderId:"571399924691",appId:"1:571399924691:web:a21ddce999a1320bb8dd26",measurementId:"G-Q5QFJTJ831"})),h=f.firestore();g.a.firestore().settings({cacheSizeBytes:g.a.firestore.CACHE_SIZE_UNLIMITED}),g.a.firestore().enablePersistence({synchronizeTabs:!0});var m=g.a.firestore,p=(m.Timestamp,m.GeoPoint,n("3d20")),v=n.n(p),w=n("2699"),k=n("a40a"),b=n("4e2b"),y=(n("6cc5"),n("e11e"));delete y["Icon"].Default.prototype._getIconUrl,y["Icon"].Default.mergeOptions({iconRetinaUrl:n("584d"),iconUrl:n("6397"),shadowUrl:n("e2b9")});var C={components:{LMap:w["a"],LTileLayer:k["a"],LMarker:b["a"]},props:{message:{type:Object,required:!0}},methods:{likeMessage:function(){this.liked=!0,h.collection("messages").doc(this.message.id).update({liked:!0})},unLikeMessage:function(){this.liked=!1,h.collection("messages").doc(this.message.id).update({liked:!1})},onMessageTap:function(){var e=this;this.owner&&v.a.fire({text:"Mesaj: ".concat(this.message.content),confirmButtonColor:"var(--primary-color)",confirmButtonText:"Sil"}).then((function(t){t.value&&(h.collection("messages").doc(e.message.id).delete(),v.a.fire({title:"Silindi !",icon:"success",timer:900,showConfirmButton:!1}))}))}},created:function(){var e=this;this.message.location&&(this.locationUrl="https://www.google.com/maps?q=".concat(this.message.location.latitude+","+this.message.location.longitude)),g.a.auth().onAuthStateChanged((function(t){t&&t.uid===e.message.user&&(e.owner=!0)}))},data:function(){return{owner:!1,locationUrl:"",liked:!1}}},_=C,x=(n("f87e"),n("2877")),U=Object(x["a"])(_,l,u,!1,null,null,null),I=U.exports,S=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"gifPanel"},[n("div",{staticClass:"gifPanelHeader"},[n("button",{on:{click:e.closePanel}},[n("svg",{staticClass:"icon",attrs:{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"}},[n("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"}})])]),n("button",{class:{selected:"GIPHY"==e.gifVersion},on:{click:function(t){e.gifVersion="GIPHY"}}},[e._v(" GIFHY ")]),n("button",{class:{selected:"stickers"==e.gifVersion},on:{click:function(t){e.gifVersion="stickers"}}},[e._v(" STICKER ")]),n("form",{staticStyle:{flex:"1"},on:{submit:function(t){return t.preventDefault(),e.searchGif(t)}}},[n("input",{directives:[{name:"model",rawName:"v-model.lazy",value:e.search,expression:"search",modifiers:{lazy:!0}}],attrs:{type:"text",placeholder:"Ara...",autocomplete:"off",id:"search"},domProps:{value:e.search},on:{change:function(t){e.search=t.target.value}}})]),n("button",{on:{click:e.searchGif}},[n("svg",{staticClass:"icon",attrs:{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"}},[n("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"}})])])]),n("div",{staticClass:"gifPanelContent"},[e.loading?n("div",{staticClass:"loader-container"},[n("div",{staticClass:"loader"})]):e._e(),e.loading?e._e():n("div",{staticClass:"row"},[n("div",{staticClass:"column"},e._l(e.gifs.left,(function(t){return n("img",{key:t,attrs:{src:t,loading:"lazy"},on:{click:function(n){return e.sendGif(t)}}})})),0),n("div",{staticClass:"column"},e._l(e.gifs.right,(function(t){return n("img",{key:t,attrs:{src:t,loading:"lazy"},on:{click:function(n){return e.sendGif(t)}}})})),0)])])])},M=[],P=(n("841c"),n("a6d8")({apiKey:"c4f1tw7I7D3glsL99Ud2jYjFIeQxCLif",https:!0})),j={name:"GifPanel",props:{currUser:{required:!0}},data:function(){return{gifVersion:"GIPHYy",gifs:{left:[],right:[]},loading:!1,search:""}},created:function(){this.gifVersion="GIPHY"},methods:{searchGif:function(){var e=this;if(this.gifs={left:[],right:[]},this.loading=!0,this.search)switch(console.log(this.search),this.gifVersion){case"GIPHY":P.search({q:this.search,limit:25}).then((function(t){e.loading=!1,t.data.forEach(e.getGifs)}));break;case"stickers":P.search({api:"stickers",q:this.search,limit:25}).then((function(t){e.loading=!1,t.data.forEach(e.getGifs)}));break}},closePanel:function(){this.$emit("checkPanel",!1)},getGifs:function(e,t){t%2==1?this.gifs.left.push(e.images.downsized.url):this.gifs.right.push(e.images.downsized.url)},sendGif:function(e){var t={seen:!1,emoji:!1,user:this.currUser.id,content:"Gif gönderdi!",liked:!1,imageUrl:e,createdAt:Date.now()};console.log(t),this.closePanel(),h.collection("messages").add(t)}},watch:{search:function(e){e.length>=3&&this.searchGif()},gifVersion:function(e){var t=this;switch(this.gifs={left:[],right:[]},this.loading=!0,e){case"GIPHY":P.search({q:"love",limit:25}).then((function(e){t.loading=!1,e.data.forEach(t.getGifs)}));break;case"stickers":P.search({api:"stickers",q:"funny",limit:25}).then((function(e){t.loading=!1,e.data.forEach(t.getGifs)}));break}}}},D=j,E=(n("0c1c"),Object(x["a"])(D,S,M,!1,null,null,null)),O=E.exports,z=(n("741f"),n("588e"),n("2398"));n("9ddc");var G,A={name:"Chat",firestore:{messages:h.collection("messages").orderBy("createdAt","desc").limit(25)},components:{Message:I,GifPanel:O},created:function(){var e=this;window.oncontextmenu=function(e){return e.preventDefault(),e.stopPropagation(),!1},this.$workbox&&this.$workbox.addEventListener("waiting",(function(){e.showUpdateUI=!0})),window.addEventListener("beforeunload",(function(t){e.message.length>3&&(t.preventDefault(),t.returnValue="")})),h.collection("users").onSnapshot((function(t){e.writings=[],t.forEach((function(t){t.id!==e.userDocID&&e.writings.push({user:t.data().displayName,status:t.data().writing})}))}))},data:function(){return{message:"",messages:[],currUser:{},userDocID:0,prompt:!1,inputIconShow:!0,dotMenuShow:!1,gifPanelShow:!1,writings:[],triggered:!1}},watch:{messages:function(e){var t=this;e[0]&&this.currUser.id&&(e[0].last=!0,e.forEach((function(e){e.user===t.currUser.id||e.seen||h.collection("messages").doc(e.id).update({seen:!0})})))},message:function(e){""!==e&&e.length>3?this.triggered||(h.collection("users").doc(this.userDocID).update({writing:!0}),this.triggered=!0):e.length<1&&(h.collection("users").doc(this.userDocID).update({writing:!1}),console.log("sunucuya yaz"),this.triggered=!1)}},mounted:function(){var e=this,t=g.a.auth().currentUser;t?(this.getToken(),this.getUser(t)):g.a.auth().onAuthStateChanged((function(t){if(t)e.getToken(),e.getUser(t);else{var n=new z["a"].AuthUI(g.a.auth());g.a.auth().languageCode="tr",n.start("#firebaseui-auth-container",{immediateFederatedRedirect:!1,signInSuccessUrl:window.location.href,signInOptions:[g.a.auth.EmailAuthProvider.PROVIDER_ID,g.a.auth.GoogleAuthProvider.PROVIDER_ID]})}}))},methods:{gifPanelStatus:function(e){this.gifPanelShow=e},sendLocation:function(){var e=this;navigator.geolocation?navigator.geolocation.getCurrentPosition((function(t){var n={seen:!1,emoji:e.containsOnlyEmojis(e.message),user:e.currUser.id,content:"Konum gönderdi!",location:{latitude:t.coords.latitude,longitude:t.coords.longitude},createdAt:Date.now()};h.collection("messages").add(n),v.a.fire({text:"gonum gitti !",timer:900,icon:"success",showConfirmButton:!1})})):v.a.fire("Hata","Konum desteklenmiyor","error")},about:function(){v.a.fire({title:"Hakkında",html:'Sevgi ile yapıldı <br><span class="pulse" >❤️</span>',heightAuto:!1,showConfirmButton:!1})},previewPhoto:function(){var e=this,t=document.getElementById("photo");console.dir(t.files[0]);var n="/images/";g.a.storage().ref(n+t.files[0].name).put(t.files[0]).then((function(t){t.ref.getDownloadURL().then((function(t){var n={seen:!1,emoji:e.containsOnlyEmojis(e.message),user:e.currUser.id,content:"Fotoğraf gönderdi!",liked:!1,imageUrl:t,createdAt:Date.now()};h.collection("messages").add(n),v.a.fire({text:"gayıtlandı !",timer:900,icon:"success",showConfirmButton:!1})}))}))},previewSound:function(){var e=this,t=document.getElementById("sound");console.dir(t.files[0]);var n="/sounds/";g.a.storage().ref(n+t.files[0].name).put(t.files[0]).then((function(t){t.ref.getDownloadURL().then((function(t){var n={seen:!1,emoji:e.containsOnlyEmojis(e.message),user:e.currUser.id,content:"Ses kaydı gönderdi!",liked:!1,soundUrl:t,createdAt:Date.now()};h.collection("messages").add(n),v.a.fire({text:"gayıtlandı !",timer:900,icon:"success",showConfirmButton:!1})}))}))},getUser:function(e){var t=this;this.currUser.id=e.uid,this.currUser.name=e.displayName,this.currUser.email=e.email,h.collection("users").get().then((function(e){var n=!1;e.forEach((function(e){t.currUser.id===e.data().userID&&(t.userDocID=e.id,n=!0)})),n||h.collection("users").add({userID:t.currUser.id,displayName:t.currUser.name,mail:t.currUser.email}).then((function(e){t.userDocID=e.id})),console.log("user",n)}))},getToken:function(){var e=this;g.a.messaging().getToken().then((function(t){console.log(t),h.collection("tokens").get().then((function(n){var s=!1;n.forEach((function(e){t===e.data().token&&(s=!0)})),s||h.collection("tokens").add({token:t,userID:e.currUser.id}),console.log("token",s)}))})).catch((function(){return console.log("error with notification")}))},accept:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.showUpdateUI=!1,t.next=3,e.$workbox.messageSW({type:"SKIP_WAITING"});case 3:case"end":return t.stop()}}),t)})))()},containsOnlyEmojis:function(e){if(0===e.length)return!1;var t=e.replace(new RegExp("[\0-ữf]","g"),""),n=e.replace(new RegExp("[\n\rs]+|( )+","g"),"");return t.length===n.length},logout:function(){g.a.auth().signOut(),this.currUser={},location.reload()},sendMessage:function(){for(var e=0;e<this.messages.length;e++)this.messages[e].seen=!1;var t={seen:!1,emoji:this.containsOnlyEmojis(this.message),user:this.currUser.id,content:this.message,liked:!1,createdAt:Date.now()};""!==this.message&&h.collection("messages").add(t),this.message=""}}},B=A,L=(n("b2d3"),Object(x["a"])(B,i,r,!1,null,"3872efa2",null)),H=L.exports,T={name:"Vk-Chat",components:{Chat:H}},V=T,N=(n("034f"),Object(x["a"])(V,o,a,!1,null,null,null)),R=N.exports,$=n("123d"),q=n.n($),Y=n("0086"),F=n.n(Y),K=n("0ff2"),J=n("9483");console.log("".concat("/chat/","service-worker.js")),G=Object(J["a"])("".concat("/chat/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh."),console.log("refresh at")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});var Q=G;s["a"].use(F.a),s["a"].prototype.$workbox=Q,s["a"].use(K["a"]),s["a"].use(q.a),s["a"].config.productionTip=!1,new s["a"]({render:function(e){return e(R)}}).$mount("#app")},"85ec":function(e,t,n){},afbc:function(e,t,n){},b2d3:function(e,t,n){"use strict";var s=n("3634"),o=n.n(s);o.a},cd49:function(e,t,n){},cf05:function(e,t,n){e.exports=n.p+"img/logo.82b9c7a5.png"},f87e:function(e,t,n){"use strict";var s=n("afbc"),o=n.n(s);o.a}});
//# sourceMappingURL=app.cd2f371d.js.map